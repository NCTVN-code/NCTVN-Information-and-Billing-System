{% extends 'subscriber/base.html' %}
{% load static %}

{% block title %}{{ notification.title }} - Cable TV Network{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Page Header -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card">
                <div class="card-body p-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb mb-2">
                                    <li class="breadcrumb-item">
                                        <a href="{% url 'subscriber:notification_list' %}">Notifications</a>
                                    </li>
                                    <li class="breadcrumb-item active">Notification Details</li>
                                </ol>
                            </nav>
                            <h4 class="mb-1">{{ notification.title }}</h4>
                            <p class="mb-0 text-muted">
                                <i class="fas fa-clock me-1"></i>
                                {{ notification.sent_date|date:"F d, Y H:i" }}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-8">
            <!-- Notification Content -->
            <div class="card shadow mb-4">
                <div class="card-body">
                    <div class="notification-content">
                        <div class="notification-icon mb-4 text-center">
                            <div class="icon-wrapper d-inline-block rounded-circle 
                                        bg-{{ notification.type|default:'primary' }}-subtle p-4">
                                {% if notification.type == 'billing' %}
                                    <i class="fas fa-file-invoice text-primary fa-2x"></i>
                                {% elif notification.type == 'payment' %}
                                    <i class="fas fa-credit-card text-success fa-2x"></i>
                                {% elif notification.type == 'service' %}
                                    <i class="fas fa-tv text-warning fa-2x"></i>
                                {% else %}
                                    <i class="fas fa-bell text-primary fa-2x"></i>
                                {% endif %}
                            </div>
                        </div>

                        <div class="notification-message">
                            {{ notification.message|linebreaks }}
                        </div>

                        {% if notification.action_url %}
                        <div class="notification-action text-center mt-4">
                            <a href="{{ notification.action_url }}" class="btn btn-primary">
                                {{ notification.action_text|default:"View Details" }}
                            </a>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4">
            <!-- Notification Info -->
            <div class="card shadow mb-4">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">Notification Details</h6>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled">
                        <li class="mb-3">
                            <small class="text-muted d-block">Type</small>
                            <span class="badge bg-{{ notification.type|default:'primary' }}">
                                {{ notification.get_type_display }}
                            </span>
                        </li>
                        <li class="mb-3">
                            <small class="text-muted d-block">Sent Date</small>
                            {{ notification.sent_date|date:"F d, Y H:i" }}
                        </li>
                        <li class="mb-3">
                            <small class="text-muted d-block">Status</small>
                            <span class="badge bg-{{ notification.is_read|yesno:'success,warning' }}">
                                {{ notification.is_read|yesno:"Read,Unread" }}
                            </span>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Related Links -->
            <div class="card shadow">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">Quick Links</h6>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <a href="{% url 'subscriber:billing_list' %}" class="list-group-item list-group-item-action">
                            <i class="fas fa-file-invoice me-2"></i>View Bills
                        </a>
                        <a href="{% url 'subscriber:payment_list' %}" class="list-group-item list-group-item-action">
                            <i class="fas fa-credit-card me-2"></i>Payment History
                        </a>
                        <a href="{% url 'subscriber:plan_list' %}" class="list-group-item list-group-item-action">
                            <i class="fas fa-tv me-2"></i>Cable Plans
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .notification-icon .icon-wrapper {
        width: 80px;
        height: 80px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .bg-primary-subtle {
        background-color: rgba(37, 99, 235, 0.1);
    }

    .bg-success-subtle {
        background-color: rgba(34, 197, 94, 0.1);
    }

    .bg-warning-subtle {
        background-color: rgba(245, 158, 11, 0.1);
    }

    .notification-message {
        font-size: 1.1rem;
        line-height: 1.6;
        color: var(--secondary-color);
    }

    .list-group-item {
        border-color: #e3e6f0;
    }

    .list-group-item:hover {
        background-color: var(--light-bg);
    }

    .list-group-item i {
        width: 20px;
    }
</style>
{% endblock %} 